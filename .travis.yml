language: android
android:
  components:
  - android-22
  - android-26
  - build-tools-26.0.2
  - sys-img-armeabi-v7a-android-26
before_install:
 - chmod +x gradlew
install:
 - echo y | sdkmanager 'ndk-bundle'
 - echo y | sdkmanager 'lldb;3.0'
branches:
  only:
  - master
  - FLOW-UI
before_script:
  - android list sdk --extended --no-ui --all
  - echo "y" | android update sdk -a --no-ui --filter sys-img-armeabi-v7a-android-22,sys-img-x86_64-android-22
  - echo "n" | android create avd --name myandroid22 -t "android-22" --abi "default/armeabi-v7a"
  - emulator -avd myandroid22 -no-audio -no-window &
  - android-wait-for-emulator
  - adb devices
  - adb shell input keyevent 82 &
notifications:
  slack:
    secure: OTOg8AHXGOpuZZfc3KD//nar51oCKTH6XJuiA5loaIilGS0DTtAI4oJPmLmsLBDdjCLehuZLtgtL4SOOBaug7dxQSGKLz622yxrpWgDVmL9i208PXsBUQceMjC07wPYqs/XN3bumHddpiBRDxVfGMnpGeNSjAxw75RmvF1LPkyVIaOqzKse4PhWKln0dkMpMeXm5c4KdIFdjLpTiKzvWtTQmoYjpBloJdGIYxqpUYJ2u6NSZlNDoQQBMLRaokhyYvCgWlEBSPRfrwo0Dql6jdjlEVRsvIvI24ukjoP04fChHcA6+qLjhpj819WfWvAotDVkClsmuOZRaalGqX54HwlGsM9qFPaPPwEhdFOcte1t+Ftv2uTb5DT7kUMOtZgJZyCV0NQuD2T9HFqJ8xHhbo35bVvudaffK7iBubr8By7q6Azu3F+tv6VZxaOzFUhGYBW9PCFbhcs96ns1c69hPLxypXuBm/WPHaUnSPJ7KFONZogqCDD2tpMZHGR1z4muTpiZGw3bTXkutc7v1KBsMhD1JhFpaM1wzfxgVCmyXzJbdnTeC9LPrzp+HhYe5TYwV6TYuQFtx776Mdup3w64w08lwEMJfHQwfyMhLdSg73cjbLt6bC8bqsseqLBx4TSoh/TRu0vRlcoJhpb7U+cbmwxH0vAteLwB/Gf0Xks0ah3E=
